---
name: str-replace
description: Заменить уникальную строку в файле в Docker контейнере. Строка для замены должна встречаться РОВНО ОДИН РАЗ в файле. Используй для редактирования существующих файлов, обновления конфигураций, исправления ошибок.
---

# Str Replace Tool

Инструмент для замены уникальной строки в файле.

## Параметры

- `path` (required, string) - Абсолютный путь к файлу в контейнере
- `old_str` (required, string) - Строка для замены (должна быть уникальной в файле!)
- `new_str` (optional, string) - Новая строка (пустая строка = удаление)
- `description` (required, string) - Зачем делаю эту замену (ОБЯЗАТЕЛЬНО)

## КРИТИЧЕСКИ ВАЖНО

- `old_str` должна встречаться **РОВНО ОДИН РАЗ** в файле
- Если строка встречается несколько раз, операция завершится ошибкой
- Для множественных замен делай несколько вызовов инструмента

## Примеры

```json
{
  "path": "/home/kb/config.json",
  "old_str": "\"debug\": false",
  "new_str": "\"debug\": true",
  "description": "Включаю debug режим"
}
```

```json
{
  "path": "/home/kb/script.py",
  "old_str": "print('old code')",
  "new_str": "print('new code')",
  "description": "Обновляю логику скрипта"
}
```

```json
{
  "path": "/home/kb/file.txt",
  "old_str": "unwanted line",
  "new_str": "",
  "description": "Удаляю ненужную строку"
}
```

## Работа с длинными файлами

Для редактирования больших файлов:
1. Используй `view` для просмотра нужного участка
2. Найди уникальную строку с достаточным контекстом
3. Выполни замену через `str_replace`
4. Повторяй для следующих изменений

## Результат

Возвращает:
- `success` - статус выполнения
- `path` - путь к файлу
- `message` - сообщение о результате замены

